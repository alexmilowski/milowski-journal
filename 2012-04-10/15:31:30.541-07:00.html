<article xmlns="http://www.w3.org/1999/xhtml" vocab="http://schema.org/" typeof="BlogPosting" resource="http://www.milowski.com/journal/entry/2012-04-10T15:31:30.541000-07:00">
<script type="application/ld+json">
{
"@context" : "http://schema.org/",
"@id" : "http://www.milowski.com/journal/entry/2012-04-10T15:31:30.541000-07:00",
"genre" : "blog",
"headline" : "Experiments with Big Weather Data in MarkLogic - Introduction",
"description" : "Over the past couple months, I&#x27;ve been experimenting with  “big data” on the web for scientific purposes. The goal is to take my research on geospatial scientific data on the web and use [MarkLogic](http://www.marklogic.com/) to create a repository for large sensor data. My current scientific area of focus is weather data (sensor data in general) that I&#x27;m collecting through the [Citizen Weather Observation Program (CWOP)](http://www.wxqa.com/) .",
"datePublished" : "2012-04-10T15:31:30.541000-07:00",
"dateModified" : "2012-04-10T15:31:30.541000-07:00",
"keywords" : "MarkLogic,big data,weather,APRS" ,
"author" : [ { "@type" : "Person", "name" : "Alex Miłowski" }]
}
</script>
<h1>Experiments with Big Weather Data in MarkLogic - Introduction</h1>
<p>Over the past couple months, I've been experimenting with  “big data” on the web for scientific purposes. The goal is to take my research on geospatial scientific data on the web and use <a href="http://www.marklogic.com/">MarkLogic</a> to create a repository for large sensor data. My current scientific area of focus is weather data (sensor data in general) that I'm collecting through the <a href="http://www.wxqa.com/">Citizen Weather Observation Program (CWOP)</a> .</p>
<p>The data comes to me over the Internet via <a href="http://www.aprs-is.net/">APRS-IS</a> , which is a home-grown peer-to-peer message relaying system.  The messages originate from both Internet and radio-based systems. Typically, the sending systems are weather stations or location trackers, but they could be just about anything. The messages are cryptic character-based packets encoding data.</p>
<p>All you really want to know is that:</p>
<pre><code>DW7508&amp;gt;APRS,TCPXX*,qAX,CWOP-2:@140818z5303.00N/00414.20W_290/011g018t040r000P000h77b09878eCumulusDsVP
DW4331&amp;gt;APRS,TCPXX*,qAX,CWOP-2:@140818z3244.80N/11708.33W_137/000g...t046r...p...P000h96b10083.DsVP
DW4314&amp;gt;APRS,TCPXX*,qAX,CWOP-2:@140818z3835.73N/12057.58W_072/000g001t040r000p000P000h71b10214.DsVP
KF9X&amp;gt;APRS,TCPXX*,qAX,CWOP-2:@140819z4420.99N/08952.58W_080/001g004t034r001P001p001h91b10208v6
</code></pre>
<p>gets turned into XML:</p>
<pre><code>&amp;lt;report from=&amp;quot;dw3512&amp;quot; type=&amp;quot;weather&amp;quot; latitude=&amp;quot;44.903&amp;quot; longitude=&amp;quot;-85.06833&amp;quot;
        received=&amp;quot;2012-04-10T08:00:00Z&amp;quot; at=&amp;quot;2012-04-10T08:00:00 Z&amp;quot; wind-dir=&amp;quot;303&amp;quot; wind-speed=&amp;quot;6&amp;quot; wind-gust=&amp;quot;13&amp;quot;
        temperature=&amp;quot;33&amp;quot; rain-hour=&amp;quot;0&amp;quot; rain-midnight=&amp;quot;0&amp;quot; humidity=&amp;quot;81&amp;quot; pressure=&amp;quot;10098&amp;quot; /&amp;gt;
&amp;lt;report from=&amp;quot;DW6820&amp;quot; type=&amp;quot;weather&amp;quot; latitude=&amp;quot;54.37533&amp;quot; longitude=&amp;quot;2.89533&amp;quot;
        received=&amp;quot;2012-04-10T08:00:00Z&amp;quot; at=&amp;quot;2012-04-10T08:00:00 Z&amp;quot; wind-dir=&amp;quot;272&amp;quot; wind-speed=&amp;quot;9&amp;quot; wind-gust=&amp;quot;19&amp;quot;
        temperature=&amp;quot;43&amp;quot; rain-hour=&amp;quot;1&amp;quot; rain-24hours=&amp;quot;56&amp;quot; rain-midnight=&amp;quot;17&amp;quot; humidity=&amp;quot;78&amp;quot; pr essure=&amp;quot;9662&amp;quot; /&amp;gt;
&amp;lt;report from=&amp;quot;DW2039&amp;quot; type=&amp;quot;weather&amp;quot; latitude=&amp;quot;51.24533&amp;quot; longitude=&amp;quot;-2.94883&amp;quot;
        received=&amp;quot;2012-04-10T08:00:00Z&amp;quot; at=&amp;quot;2012-04-10T07:59:0 0Z&amp;quot; wind-dir=&amp;quot;237&amp;quot; wind-speed=&amp;quot;6&amp;quot; wind-gust=&amp;quot;12&amp;quot;
        temperature=&amp;quot;44&amp;quot; rain-hour=&amp;quot;0&amp;quot; rain-24hours=&amp;quot;43&amp;quot; rain-midnight=&amp;quot;1&amp;quot; humidity=&amp;quot;88&amp;quot; pr essure=&amp;quot;9898&amp;quot; /&amp;gt;
</code></pre>
<p>Note: there is no correspondence for the above examples, so don't try to parse the APRS messages to produce my XML.</p>
<p>Through the CWOP APRS-IS servers, somewhere around 55,000+ weather reports per hour are aggregated and available to be received.  I setup a process to receive these messages, turn them into XML, and dump them onto disk as XML documents in 5 minute segments.  I have that running now and I expect it to generate about 8-12 GB of raw XML data a month.</p>
<p>The goal is to load this data into MarkLogic, understand how to store such data, and expose the data on the web as a useful archive of sensor data.</p>
</article>
