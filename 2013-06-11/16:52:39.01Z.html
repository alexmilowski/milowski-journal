<article xmlns="http://www.w3.org/1999/xhtml" vocab="http://schema.org/" typeof="BlogPosting" resource="http://www.milowski.com/journal/entry/2013-06-11T16:52:39.010000+00:00">
<script type="application/ld+json">
{
"@context" : "http://schema.org/",
"@id" : "http://www.milowski.com/journal/entry/2013-06-11T16:52:39.010000+00:00",
"@type" : "BlogPosting",
"genre" : "blog",
"headline" : "Microdata in Green Turtle",
"description" : "After being asked how hard it would be to add [Microdata](http://dev.w3.org/html5/md-LC/) , at least in some minimal way, to [Green Turtle](https://code.google.com/p/green-turtle/) I decided to find out. Â Since I already have a bunch of infrastructure, this didn't feel like a hard thing to add. Â If I did add support,Â at least experimentally,Â microdata and RDFa could use the same API and scripting support.",
"datePublished" : "2013-06-11T16:52:39.010000+00:00",
"dateModified" : "2013-06-11T16:52:39.010000+00:00",
"keywords" : "RDFa,Microdata,Green Turtle" ,
"author" : [ { "@type" : "Person", "name" : "Alex MiÅ‚owski" }]
}
</script>
<section class="info">

<div class="metadata">
<p>
<a href="http://www.milowski.com/journal/entry/2013-06-11T16:52:39.010000+00:00" title="link to this entry">ðŸ”—</a> Published on
<span property="datePublished" content="2013-06-11T16:52:39.010000+00:00">2013-06-11 16:52:39.010000+00:00</span>
<span property="dateModified" content="2013-06-11T16:52:39.010000+00:00"></span>
</p>
<p property="keywords">RDFa,Microdata,Green Turtle</p>
<p property="description">After being asked how hard it would be to add [Microdata](http://dev.w3.org/html5/md-LC/) , at least in some minimal way, to [Green Turtle](https://code.google.com/p/green-turtle/) I decided to find out. Â Since I already have a bunch of infrastructure, this didn't feel like a hard thing to add. Â If I did add support,Â at least experimentally,Â microdata and RDFa could use the same API and scripting support.</p>
</div>
</p>
<p property="author" typeof="Person"><span property="name">Alex MiÅ‚owski</span></p>
</section>
<h1>Microdata in Green Turtle</h1>
<p>After being asked how hard it would be to add <a href="http://dev.w3.org/html5/md-LC/">Microdata</a> , at least in some minimal way, to <a href="https://code.google.com/p/green-turtle/">Green Turtle</a> I decided to find out. Â Since I already have a bunch of infrastructure, this didn't feel like a hard thing to add. Â If I did add support,Â at least experimentally,Â microdata and RDFa could use the same API and scripting support.</p>
<p>Of course, this requires understanding how to interpret microdata and generate a triples graph from it. Â There are some pathological cases, such as untyped items, that are just impossible. Â For example:</p>
<pre><code>&lt;div itemscope&gt;
&lt;p itemprop=&quot;name&quot;&gt;Alex Milowski&lt;/p&gt;
&lt;/div&gt;

</code></pre>
<p>Is it someone's attempt at encoding a person? Â Does it have any interchange semantics over the Web? Â Probably not and so I just ignore things that don't map easily.</p>
<p>Meanwhile, properly encoded <a href="http://www.schema.org">schema.org</a> items should map quite well.  In the context of a schema.org item type, the property names map in a uniform way and the triples graph is easy to generate.  Other well structured namespaces will map as well (e.g. those with hash names or URI structured the same as schema.org).</p>
<p>Let's get down to the details:</p>
<ul>
<li>You can do this right now with <a href="https://code.google.com/p/green-turtle/">Green Turtle 1.0</a> .</li>
<li>I've implemented an experimental processor.</li>
<li>You can use that right now too!</li>
</ul>
<p>Here's how:</p>
<ul>
<li>Until I package this implementation somehow, you'll need to include three Javascript files: <a href="https://green-turtle.googlecode.com/svn/trunk/src/URI.js">URI.js</a> , <a href="https://green-turtle.googlecode.com/svn/trunk/src/RDFaGraph.js">RDFaGraph.js</a> , and <a href="https://green-turtle.googlecode.com/svn/trunk/src/Microdata.js">Microdata.js</a></li>
<li>Register a processor with Green Turtle for Microdata: ```</li>
</ul>
<script type="text/javascript">
GreenTurtle.implementation.processors["microdata"] = {
   process: function(node,options) {
      var owner = node.nodeType==Node.DOCUMENT_NODE ? node : node.ownerDocument;
      if (!owner.data) {
         return false;
      }
      var processor = new GraphMicrodataProcessor(owner.data.graph);
      processor.process(node);
      return true;
   }
};
</script>
<pre><code>

That's it! Â The Green Turtle runs after the document has loaded and so any registered processors will run against the document. Â In this example, the Microdata triples are merged into the same graph as the RDFa. Â Beware, there be dragons here!

An example of the above is [available here](https://code.google.com/p/green-turtle/source/browse/trunk/tests/microdata.html) .

Now, the question remains as to what I should do with this. Â I'm not a huge fan of Microdata but embracing users of Microdata and giving them a way to co-exist or transition to RDFa feels like a good idea.

The questions that need to be answered are:

  * Do I integrate this into Green Turtle as a standard feature?
  * Should it be enabled by default?
  * If I don't integrated it, how should it be packaged for ease of use?

It is important to understand that there is code being duplicated.  Both `URI.js` and `RDFaGraph.js` are already packaged with Green Turtle but they are hidden from general use as to not clutter the global namespace.  As such, you unfortunately need to include them again. Â As such, something needs to be done to make this easy to distribute.
</code></pre>
</article>
